apiVersion: content.hauler.cattle.io/v1alpha1
kind: Files
metadata:
  name: myfile
spec:
  files:
    # hauler can save/redistribute files on disk (be careful! paths are relative)
    - ref: testdata/contents.yaml

    # TODO: when directories are specified, they will be archived and stored as a file
#    - ref: testdata/

    # hauler can also fetch remote content, and will "smartly" identify filenames _when possible_
    #   filename below = "k3s-images.txt"
    - ref: "https://github.com/k3s-io/k3s/releases/download/v1.22.2%2Bk3s2/k3s-images.txt"

    # when filenames are not appropriate, a name should be specified
    #   this will still work, but default to a filename of "get.k3s.io"
    - ref: https://get.k3s.io
      name: get-k3s.sh

---
apiVersion: content.hauler.cattle.io/v1alpha1
kind: Images
metadata:
  name: myimage
spec:
  images:
    # images can be referenced shorthanded without a tag
    - ref: hello-world

    # or namespaced with a tag
    - ref: rancher/cowsay:latest

    # or by their digest:
#    - ref: registry@sha256:42043edfae481178f07aa077fa872fcc242e276d302f4ac2026d9d2eb65b955f

    # or fully qualified from any OCI compliant registry registry
    - ref: ghcr.io/fluxcd/flux-cli:v0.22.0

---
apiVersion: content.hauler.cattle.io/v1alpha1
kind: Charts
metadata:
  name: mychart
spec:
  charts:
    # charts are also fetched and served as OCI content (currently experimental in helm)
    #   HELM_EXPERIMENTAL_OCI=1 helm chart pull <hauler-registry>/loki:2.6.2
    - name: loki
      repoURL: https://grafana.github.io/helm-charts
#      version: latest  # the latest version will be used when version is empty

    # specific versions can also be used
    - name: rancher
      repoURL: https://releases.rancher.com/server-charts/latest
      version: 2.6.2
